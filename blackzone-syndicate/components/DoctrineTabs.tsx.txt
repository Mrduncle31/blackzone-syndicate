import React from "react";
import { Button } from "@/components/ui/button";
import { Copy, Check } from "lucide-react";

type DoctrineKey = "Rifter" | "Slasher" | "Thrasher";

interface Doctrine {
  typeId: string;
  description: string;
  fit: string;
}

interface Props {
  activeTab: DoctrineKey;
  setActiveTab: (tab: DoctrineKey) => void;
  doctrineFits: Record<DoctrineKey, Doctrine>;
  copied: boolean;
  setCopied: (val: boolean) => void;
}

export default function DoctrineTabs({ activeTab, setActiveTab, doctrineFits, copied, setCopied }: Props) {
  
  const copyToClipboard = async (text: string) => {
    await navigator.clipboard.writeText(text);
    setCopied(true);
    setTimeout(() => setCopied(false), 2000);
  };

  return (
    <div className="grid md:grid-cols-2 gap-8 items-center bg-zinc-900/30 border border-zinc-800/50 p-8 md:p-12 rounded-sm shadow-2xl backdrop-blur-sm">
      <div className="relative group">
        <div className="absolute inset-0 bg-red-600/10 blur-3xl group-hover:bg-red-600/20 transition-all" />
        <img 
          src={`https://images.evetech.net/types/${doctrineFits[activeTab].typeId}/render?size=512`} 
          alt={activeTab} 
          className="relative w-full h-auto drop-shadow-[0_0_30px_rgba(220,38,38,0.3)]"
        />
      </div>
      <div>
        <div className="flex justify-between items-start mb-6">
          <div>
            <h3 className="text-3xl font-black italic uppercase">{activeTab}</h3>
            <p className="text-red-500 font-bold text-sm uppercase tracking-widest">{doctrineFits[activeTab].description}</p>
          </div>
          <Button variant="ghost" className="text-zinc-500 hover:text-white" onClick={() => copyTo
